<tal:defs define="update view/update" />
<html metal:use-macro="view/@@standard_macros/page" i18n:domain="schoolbell">
  <head>
    <title metal:fill-slot="title" i18n:translate="">
      Upload schooltool resources as CSV
    </title>
  </head>
  <body>

    <metal:block metal:fill-slot="body">

      <div class="info" tal:condition="view/success">
        <p tal:repeat="msg view/success" tal:content="msg" />
      </div>
      <div class="error" tal:condition="view/errors"
        tal:repeat="err view/errors" tal:content="err" />

      <form method="POST" enctype="multipart/form-data" class="standalone"
        tal:attributes="action request/URL">

        <h3 i18n:translate="">
          Import Resources
        </h3>
        <p i18n:translate="">
          CSV data <strong i18n:translate="">must</strong> include a resource
          title and <strong i18n:translate="">may</strong> include an optional
          resource description.  Any extra information will be discarded.
        </p>
        <p i18n:translate="">Example:</p>

<pre i18n:translate="">
Some Resource, Some resource description
Second Resource
Another Resource, Another description, this text will be discarded
</pre>
        <p i18n:translate="">
          The above example will create 3 groups titled 'Some Resource',
          'Second Resource' and 'Another Resource'.  The first and last
          resource will have the descriptions 'Some resource description' and
          'Another description' respectively.  The Second resource will have no
          description, and the extra "this text will be discarded" text on the
          third resource will be ignored.
        </p>

        <fieldset>
          <legend i18n:translate="">Upload CSV File</legend>
          <div class="row">
            <label for="csvfile" i18n:translate="">CSV File</label>
            <input id="csvfile" type="file" name="csvfile"/>
          </div>

          <div class="row">
            Charset: <select name="charset">
              <option value="UTF-8">Unicode (UTF-8)</option>
              <option value="ISO-8859-1">Western (ISO-8859-1)</option>
              <option value="ISO-8859-15">Western (ISO-8859-15)</option>
              <option value="Windows-1252">Western (Windows-1252)</option>
              <option value="other">Other (please specify)</option>
            </select>
          </div>
          <div class="row">
            Other charset: <input name="other_charset" type="text" />
          </div>
        </fieldset>
        <fieldset>
          <legend i18n:translate="">Input CSV Data</legend>
          <label for="csvtext" i18n:translate="">CSV Data</label>
          <textarea name="csvtext" id="csvtext" cols="50" rows="10"></textarea>
        </fieldset>
        <div class="controls">
          <input name="UPDATE_SUBMIT" class="button-ok" type="submit"
            value="Submit" i18n:attributes="value" />
        </div>
      </form>
    </metal:block>
  </body>
</html>
