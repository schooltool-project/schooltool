<html metal:use-macro="view/@@standard_macros/page" i18n:domain="schooltool">
<head>
  <title metal:fill-slot="title" i18n:translate="">Resource Booking</title>
</head>
<body>
<metal:block metal:fill-slot="body">

<form tal:attributes="action request/URL" method="POST" class="standalone">
  <h3 i18n:translate="" tal:condition="not:context/title|nothing">
      Resource Booking
  </h3>
  <h3 i18n:translate="" tal:condition="context/title|nothing">
      Resource Booking for <span i18n:name="title"
                                 tal:replace="context/title">something</span>
  </h3>
  <fieldset>
    <legend i18n:translate="">Available Resources</legend>
    <table class="acl">
      <tr tal:repeat="resource view/availableResources/sortby:title"
          tal:attributes="class repeat/resource/parity">
         <th class="principal">
            <span tal:replace="resource/title">Resource foo</span>
            <input type="hidden" tal:attributes="name string:marker-${resource/zope:name}"
                   value="1" />
         </th>
         <td class="permission">
            <input
                type="checkbox"
                value="booked"
                tal:attributes="name resource/zope:name;
                                checked python: view.hasBooked(resource)" />
         </td>
      </tr>
    </table>
  </fieldset>

  <div class="controls">
    <input type="submit" class="button-ok" name="UPDATE_SUBMIT" value="Book"
           i18n:attributes="value" />
    <input type="submit" class="button-cancel" name="CANCEL" value="Cancel"
           i18n:attributes="value cancel-button" />
  </div>

</form>
</metal:block>
</body>
</html>
