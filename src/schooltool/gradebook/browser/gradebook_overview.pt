<tal:tag condition="view/update" />
<html metal:use-macro="context/@@standard_macros/page"
      i18n:domain="schooltool">
<head>
  <title metal:fill-slot="title" i18n:translate="">
    Gradebook
  </title>
</head>
<body>
<div metal:fill-slot="body">

  <table class="grades" border="1">
    <tr>
     <th i18n:translate="">
       <div>Name</div>
       <a href="?sort_by=student">(sort)</a>
     </th>
     <th tal:repeat="activity view/activities">
       <div>
         <a href=""
            tal:attributes="href
                string:gradeActivity.html?activity=${activity/hash}"
            tal:content="activity/title">
           HW 1
         </a>
       </div>
       <a href="?sort_by="
          tal:attributes="href
              string:${request/URL}?sort_by=${activity/hash}"
          i18n:translate="">
         (sort)
       </a>
       <div tal:content="activity/max" />
     </th>
    </tr>
    <tr tal:repeat="row view/table">
      <td>
        <a href=""
           tal:attributes="href
               string:gradeStudent.html?student=${row/student/id}"
           tal:content="row/student/title">
          Tom Hoffman
        </a>
      </td>
      <td tal:repeat="grade row/grades">
        <a href=""
           tal:attributes="href
        string:grade.html?student=${row/student/id}&activity=${grade/activity}"
           tal:content="grade/value" />
      </td>
    </tr>
    <tr class="Statistic" tal:repeat="stat view/statistics">
      <td class="name"
          tal:content="stat/name"
          i18n:translate="">
        Quantity
      </td>
      <td class="value"
          tal:repeat="value stat/values"
          tal:content="value"
          i18n:translate="">
        50.0 %
      </td>
    </tr>
  </table>

</div>
</body>
</html>
