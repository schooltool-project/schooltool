<html metal:use-macro="view/macros/page" i18n:domain="schooltool">
<head>
  <title metal:fill-slot="title" i18n:translate="">Person info</title>
</head>
<body>
  <h1 metal:fill-slot="h1">
    Person info for <span tal:replace="context/title"/>
  </h1>
  <metal:block metal:fill-slot="content" tal:define="info view/info">
    <div class="actions">
      <a class="action" tal:condition="view/canEdit"
         tal:attributes="href view/editURL"
         i18n:translate="">Edit</a>
      <a class="action" tal:condition="view/canChangePassword"
         tal:attributes="href view/passwordURL"
         i18n:translate="">Change password</a>
    </div>
    <div class="groups">
      <h3 i18n:translate="">Groups</h3>
      <p tal:repeat="group view/getParentGroups">
       <a tal:attributes="href group/@@absolute_url"
          tal:content="group/title"/>
      </p>
    </div>
    <div class="timetables" tal:condition="view/timetables">
      <h3 i18n:translate="">Timetables</h3>
      <p tal:repeat="tt view/timetables">
       <a tal:attributes="href tt/url" tal:content="tt/title"/>
      </p>
    </div>
    <div class="row"><b>Username:</b>
      <span tal:replace="python:context.__name__">not_doe</span>
    </div>
    <div class="row"><b>Title:</b>
      <span tal:replace="context/title">John, but not Doe</span>
    </div>
    <div class="row"><b>First name:</b>
      <span tal:replace="info/first_name"></span>
    </div>
    <div class="row"><b>Last name:</b>
      <span tal:replace="info/last_name"></span>
    </div>
    <div class="row"><b>Date of birth:</b>
      <span tal:replace="info/date_of_birth"></span>
    </div>
    <div class="row"><b>Comment:</b>
      <span tal:replace="info/comment"></span>
    </div>
    <div class="row">
      <b>Photo:</b>
      <tal:block condition="not:view/photoURL">N/A</tal:block>
      <p tal:condition="view/photoURL">
        <img src="photo.jpg" tal:attributes="src view/photoURL" />
      </p>
    </div>
  </metal:block>
</body>
</html>
