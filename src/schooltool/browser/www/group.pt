<html metal:use-macro="view/macros/page" i18n:domain="schooltool">
<head>
  <title metal:fill-slot="title" tal:content="context/title" />
</head>
<body>
<h1 metal:fill-slot="h1"><span tal:replace="context/title" /></h1>
<metal:block metal:fill-slot="content">

  <div class="timetables">
    <div tal:condition="view/timetables">
      <h3 i18n:translate="">Timetables</h3>
      <p tal:repeat="tt view/timetables">
       <a tal:attributes="href tt/url" tal:content="tt/title"/>
      </p>
    </div>
    <h3 i18n:translate="">Calendar</h3>
     <p><a tal:attributes="href string:${context/@@absolute_url}/calendar"
           i18n:translate="">Use calendar for this group</a></p>

    <div tal:condition="view/isManager">
      <h3 i18n:translate="">Access control</h3>
       <ul>
       <li><a tal:attributes="href string:${context/@@absolute_url}/acl.html"
             i18n:translate="">Set who can add/remove members<br/>and
             teachers of this group.</a></li>
       <li><a tal:attributes="href
             string:${context/@@absolute_url}/calendar/acl.html"
             i18n:translate="">Set who can view, edit, and add<br/>
             events to the calendar of this group.</a></li>
       </ul>
    </div>
  </div>

  <div class="parentgroups" tal:define="supergroups view/getParentGroups">
    <h3 i18n:translate="">Super-groups</h3>
    <p tal:repeat="parent supergroups">
     <a tal:attributes="href parent/@@absolute_url"
        tal:content="parent/title"/>
    </p>
    <p tal:condition="not:supergroups" i18n:translate="">
      This group has no super-groups.
    </p>
  </div>

  <div class="members">
    <div tal:define="subgroups view/getSubGroups">
      <h3 i18n:translate="">Sub-groups</h3>
      <p tal:repeat="sub subgroups">
       <a tal:attributes="href sub/@@absolute_url" tal:content="sub/title"/>
      </p>
      <p tal:condition="not:subgroups" i18n:translate="">
      This group has no sub-groups.</p>
    </div>
    <div class="actions" tal:condition="view/canEdit">
      <a class="action"
         tal:attributes="href string:${context/@@absolute_url}/edit.html"
         i18n:translate="">Edit</a>
    </div>
    <div tal:define="members view/getOtherMembers">
      <h3 i18n:translate="">Members</h3>
      <p tal:repeat="obj members">
       <a tal:attributes="href obj/@@absolute_url" tal:content="obj/title"/>
      </p>
      <p tal:condition="not:members" i18n:translate="">
      This group has no members.</p>
    </div>
    <div class="actions" tal:condition="view/canEdit">
      <a class="action"
         tal:attributes="href string:${context/@@absolute_url}/edit.html"
         i18n:translate="">Edit</a>
    </div>
  </div>

  <div class="members"
       tal:define="teachers view/teachersList">
    <h3 i18n:translate="">Teachers</h3>
    <p tal:repeat="teacher teachers" tal:condition="teachers">
      <a tal:attributes="href teacher/@@absolute_url"
         tal:content="teacher/title"/>
    </p>
    <p tal:condition="not:teachers" i18n:translate="">
    This group has no teachers.</p>
    <div class="actions" tal:condition="view/canEdit">
      <a class="action"
         tal:attributes="href string:${context/@@absolute_url}/teachers.html"
         i18n:translate="">Edit</a>
    </div>
  </div>

</metal:block>
</body>
</html>
