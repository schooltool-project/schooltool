<html metal:use-macro="view/macros/page" i18n:domain="schooltool">
<head>
  <title metal:fill-slot="title" i18n:translate="">Book a resource</title>
</head>
<body>
  <h1 metal:fill-slot="h1" i18n:translate="">
    Book resource <span tal:replace="context/title"/>
  </h1>

  <metal:block metal:fill-slot="content" tal:define="update view/update">

  <tal:block condition="view/booked">
    <p i18n:translate="">Resource booked.</p>
    <p><a href="/busysearch" i18n:translate="">Back to resource search</a></p>
  </tal:block>

  <tal:block condition="not:view/booked">
  <div class="error" tal:condition="view/error" tal:content="view/error" />

  <form method="POST" tal:attributes="action request/path">
    <div class="row" tal:condition="view/isManager">
      <label for="owner" i18n:translate="">Owner</label>
      <input id="owner" name="owner" type="text"
             tal:attributes="value view/owner_name" />
    </div>
    <div class="row">
      <label for="start_date" i18n:translate="">Date</label>
      <input id="start_date" name="start_date" type="text"
             tal:attributes="value view/start_date" />
    </div>
    <div class="row">
      <label for="start_time" i18n:translate="">Time</label>
      <input id="start_time" name="start_time" type="text"
             tal:attributes="value view/start_time" />
    </div>
    <div class="row">
      <label for="duration" i18n:translate="">Duration</label>
      <input id="duration" name="duration" type="text"
             tal:attributes="value view/duration" />
    </div>
    <div class="row">
      <label for="conflicts" i18n:translate="">Ignore conflicts</label>
      <input id="conflicts" name="conflicts" type="checkbox" value="ignore" />
    </div>
    <input class="button" name="CONFIRM_BOOK" type="submit" value="Book" 
           i18n:attributes="value"/>
  </form>
  </tal:block>
  </metal:block>

</body>
</html>
