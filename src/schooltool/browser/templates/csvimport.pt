<tal:defs define="update view/update" />
<html metal:use-macro="view/@@standard_macros/page" i18n:domain="schooltool">
<head>
  <title metal:fill-slot="title" i18n:translate="">
    Upload SchoolTool timetable as CSV
  </title>
</head>
<body>

<h1 metal:fill-slot="content-header" i18n:translate="">
  Upload SchoolTool timetable as CSV
</h1>

<metal:block metal:fill-slot="body">

  <div class="info" tal:condition="view/success">
    <p tal:repeat="msg view/success" tal:content="msg" />
  </div>
  <div class="error" tal:condition="view/errors"
       tal:repeat="err view/errors" tal:content="err" />

  <form method="POST" enctype="multipart/form-data"
        tal:attributes="action request/URL">

    <br />

    <div class="row">
      <label for="timetable_csv" i18n:translate="">timetable.csv</label>
      <input id="timetable_csv" type="file" name="timetable.csv" />
    </div>

    <div class="row">
      <label for="roster_txt" i18n:translate="">roster.txt</label>
      <input id="roster_txt" type="file" name="roster.txt" />
    </div>

    <br />

    <div class="row">
      Charset: <select name="charset">
        <option value="UTF-8" i18n:translate="">Unicode (UTF-8)</option>
        <option value="ISO-8859-1" i18n:translate="">Western (ISO-8859-1)</option>
        <option value="ISO-8859-15" i18n:translate="">Western (ISO-8859-15)</option>
        <option value="Windows-1252" i18n:translate="">Western (Windows-1252)</option>
        <option value="other" i18n:translate="">Other (please specify)</option>
      </select>
    </div>
    <div class="row" i18n:translate="">
        Other charset: <input i18n:name="other_charset"
                              name="other_charset" type="text" />
    </div>

    <br />

  <div class="buttons">
    <input name="UPDATE_SUBMIT" class="button" type="submit" value="Submit"
           i18n:attributes="value" />
  </div>

  </form>

  <p style="clear:both" i18n:translate="">
    Note that the import may take a while.  Please be patient.
  </p>

  <hr />

  <h2 i18n:translate="">Format of the files</h2>

    <p i18n:translate="">
      You can create these files in a spreadsheet and export them in the comma
      separated value format described below.
    </p>

    <p style="clear:both" i18n:translate="">
      <strong>timetable.csv</strong> contains lines of comma-separated values
      as in the following example:</p>

    <pre>
"2004-fall","default"
""
"Day 1"
"","A","B"
"Room 1","Mathematics 1 | Nicola Oakley","Mathematics 2 | Heather Hall"
""
"Day 2"
"","C","D"
"Room 2","Mathematics 2 | Heather Hall","Mathematics 1 | Nicola Oakley"
    </pre>

    <p style="clear:both" i18n:translate="">
      <strong>roster.txt</strong> contains plain text
      as in the following example:</p>

    <pre>
Mathematics 1 - Nicola Oakley
Courtney Bisset
Geoffrey Smith
James Cox
James Smith
Jeff Clark
John Ford

Mathematics 2 - Heather Hall
Carol Smith
Deb Price
Denise Batchelor
Jeff Cooper
    </pre>

</metal:block>
</body>
</html>
