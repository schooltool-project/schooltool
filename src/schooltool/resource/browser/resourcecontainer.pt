<tal:define define="dummy view/update"/>
<html metal:use-macro="view/@@standard_macros/page" i18n:domain="schooltool">
<head>
  <title metal:fill-slot="title" tal:content="view/index_title" i18n:translate="">
    Contents
  </title>
</head>
<body>

<h1 metal:fill-slot="content-header"
    tal:content="view/index_title" i18n:translate="">Contents</h1>

<metal:block metal:fill-slot="body">
  <form method="GET" tal:attributes="action view/context/@@absolute_url">

      <!-- Type Searching -->
      <div class="oneline-form">
        <tal:block repeat="widget view/widgets">
          <label tal:attributes="for widget/name; title widget/label"
                 i18n:attributes="title"
                 i18n:translate=""
                 tal:content="widget/label">
          </label>
              <input tal:replace="structure widget" />
        </tal:block>
        <input tal:repeat="action view/actions"
               tal:replace="structure action/render" />
      </div>

      <!-- Filtering viewlet by type -->
      <div tal:define="factory view/getResourceUtility"
           tal:condition="factory"
           tal:content="structure view/filter_widget/render"/>

      <div>
        <div tal:condition="view/getResourceUtility">
          <tal:block replace="structure view/renderResourceTable" />
        </div>
      <div>
  </form>
</metal:block>
</body>
</html>
