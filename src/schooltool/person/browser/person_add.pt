<tal:defs define="dummy view/update" />
<html metal:use-macro="view/@@standard_macros/page" i18n:domain="schoolbell">
<head>
  <title metal:fill-slot="title" i18n:translate="">Add person</title>
</head>
<body>

<metal:nothing metal:fill-slot="content-header" />

<metal:block metal:fill-slot="body">

  <form class="standalone" method="post" enctype="multipart/form-data"
	tal:attributes="action request/URL">
    <h3 i18n:translate="">Person Information</h3>

    <div class="error" tal:condition="view/error"
	 tal:content="view/error" i18n:translate="" />

    <fieldset>
      <div class="row" tal:define="widget nocall:view/title_widget">
	<div metal:use-macro="context/@@form_macros/widget_row" />
      </div>

      <div class="row" tal:define="widget nocall:view/username_widget">
	<div metal:use-macro="context/@@form_macros/widget_row" />
      </div>

      <div class="row" tal:define="widget nocall:view/password_widget">
	<div metal:use-macro="context/@@form_macros/widget_row" />
      </div>

      <div class="row" tal:define="widget nocall:view/verify_password_widget">
	<div metal:use-macro="context/@@form_macros/widget_row" />
      </div>

      <div class="row" tal:define="widget nocall:view/photo_widget">
	<div metal:use-macro="context/@@form_macros/widget_row" />
      </div>
    </fieldset>

    <fieldset tal:define="groups view/getAllGroups" tal:condition="groups">
      <legend i18n:translate="">Add to groups</legend>
      <div tal:repeat="group groups/sortby:title">
	<label>
	  <input type="checkbox"
		 tal:define="name  string:group.${group/__name__}"
		 tal:attributes="name name; checked python: name in request" />
	  <span tal:replace="group/title">Title</span>
	</label>
      </div>
    </fieldset>

    <div class="controls">
      <tal:block metal:use-macro="view/@@standard_macros/add-button" />
      <tal:block metal:use-macro="view/@@standard_macros/cancel-button" />
    </div>
  </form>
</metal:block>
</body>
</html>
