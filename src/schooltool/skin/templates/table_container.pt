<tal:defs define="dummy view/update" />
<html metal:use-macro="view/@@standard_macros/page" i18n:domain="schooltool">
<head>
  <title metal:fill-slot="title" tal:content="view/index_title" i18n:translate="">
    Contents
  </title>
</head>
<body>

<h1 metal:fill-slot="content-header"
    tal:content="view/index_title" i18n:translate="">Contents</h1>

<metal:block metal:fill-slot="body"
             tal:define="batch view/table/batch;
                         canModify view/canModify">
  <tal:if tal:condition="batch">
    <tal:if condition="request/SEARCH|nothing">
      <tal:block define="extra_url python:'&SEARCH=%s' % request.get('SEARCH')">
        <div metal:use-macro="view/@@batch_macros/batch-navigation"/>
      </tal:block>
    </tal:if>
    <tal:if condition="not:request/SEARCH|nothing">
      <div metal:use-macro="view/@@batch_macros/batch-navigation"/>
    </tal:if>
  </tal:if>
  <form method="post" tal:attributes="action string:${context/@@absolute_url}">
    <tal:block tal:replace="structure view/table/filter_widget/render" />
    <tal:if condition="batch">
      <div class="count">
        <span i18n:translate="">Showing</span>
        <span tal:content="python:len(batch)"/>
        <span i18n:translate="">of</span>
        <span tal:content="python:len(batch.list)"/>
        <span i18n:translate="">items</span>
      </div>
        <tal:block replace="structure view/table/render" />
        <div class="controls" tal:condition="canModify">
          <input type="submit" class="button-cancel" value="Delete"
                 name="DELETE"
                 i18n:attributes="value delete-button;" />
        </div>
    </tal:if>
  </form>
  <p tal:condition="not:batch" i18n:translate="">There are none.</p>
</metal:block>
</body>
</html>
