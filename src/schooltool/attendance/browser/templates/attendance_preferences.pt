<tal:defs define="dummy view/update" />
<html metal:use-macro="view/@@standard_macros/page" i18n:domain="schoolbell">
<head>
  <title metal:fill-slot="title" i18n:translate="">Attendance preferences</title>
</head>
<body>
<metal:nothing metal:fill-slot="content-header" />
<metal:block metal:fill-slot="body">
  <form action="." method="post" tal:attributes="action request/URL"
        class="standalone" enctype="multipart/form-data">

    <h3 i18n:translate="">Attendance preferences</h3>

    <div class="info" tal:condition="view/message" tal:content="view/message" />
    <div class="error" tal:condition="view/error" tal:content="view/error" />
    <div class="row">
      <div class="label">
        <label i18n:translate="">Attendance status codes</label>
      </div>
      <div class="field">
        <table>
          <tr>
            <th i18n:translate="">Code</th>
            <th i18n:translate="">Description</th>
          </tr>
          <tal:loop tal:repeat="code view/codes">
            <tr>
              <td>
                <input type="text" size="5"
                       tal:attributes="name string:key_${code/key};
                                       value code/key" />
              </td>
              <td>
                <input type="text"
                       tal:attributes="name string:value_${code/key};
                                       value code/value" />
              </td>
              <td align="right">
                <input type="submit" value="Remove"
                       i18:attributes="value remove-button"
                       tal:attributes="name string:REMOVE_${code/key}"/>
              </td>
            </tr>
          </tal:loop>
          <tr>
            <td>
              <input type="text" size="5"
                     tal:attributes="name string:new_key" />
            </td>
            <td>
              <input type="text"
                     tal:attributes="name string:new_value" />
            </td>
            <td align="right">
              <input type="submit" value="Add"
                     i18:attributes="value add-button"
                     tal:attributes="name string:ADD"/>
            </td>
          </tr>
        </table>
      </div>
    </div>
    <div class="row" tal:define="widget nocall:view/attendanceRetroactiveTimeout_widget">
      <div metal:use-macro="context/@@form_macros/widget_row" />
    </div>
    <div class="row" tal:define="widget nocall:view/homeroomTardyGracePeriod_widget">
      <div metal:use-macro="context/@@form_macros/widget_row" />
    </div>
    <div class="controls">
        <input type="submit" class="button-ok" name="UPDATE_SUBMIT" value="Apply"
               title="Shortcut: Alt-A" accesskey="A"
               i18n:attributes="value submit-button; accesskey" />
        <input type="submit" class="button-cancel" name="CANCEL" value="Cancel"
               i18n:attributes="value cancel-button" />
    </div>
  </form>

  <a href="@@site-preferences.html" i18n:translate="">back to site preferences</a>
</metal:block>
</body>
</html>
