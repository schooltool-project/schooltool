<script>
    $(document).ready(function() {
        $('input[name="default_tab"], input[name="visible:list"]').click(function(e) {
            $('input[name="visible:list"]').each(function(i, elem){
                var radio_cell = $(elem.parentNode.parentNode).find('input[name="default_tab"]');
                if ($(elem).attr('checked') == 'checked') {
                    radio_cell.attr('disabled', false);
                }
                else {
                    radio_cell.attr('disabled', true);
                }
                if (radio_cell.attr('checked') == 'checked') {
                    $(elem).attr('disabled', true);
                }
                else {
                    $(elem).attr('disabled', false);
                }
            });
        });
    });
</script>
<div i18n:domain="schooltool">
  <form method="post"
        tal:attributes="action string:${context/@@absolute_url}/hide_unhide_tabs.html">
    <h3 i18n:translate="">Set Tab Visibility</h3>
    <table>
      <thead>
        <tr>
          <th i18n:translate="">Title</th>
          <th i18n:translate="">Visible</th>
          <th i18n:translate="">Default</th>
        </tr>
      </thead>
      <tr tal:repeat="tab view/tabs">
        <td>
          <span tal:content="tab/title" />
        </td>
        <td>
          <input type="checkbox" name="visible:list"
                 tal:attributes="value tab/name;
                                 checked tab/checked;
                                 disabled tab/checkbox_disabled" />
        </td>
        <td>
          <input type="radio" name="default_tab"
                 tal:attributes="value tab/name;
                                 checked tab/default;
                                 disabled tab/radio_disabled" />
        </td>
      </tr>
    </table>

    <div class="buttons controls">
      <input type="submit" class="button-ok" name="SUBMIT" value="Submit"
             i18n:attributes="value" />
      <tal:block metal:use-macro="view/@@standard_macros/cancel-button" />
    </div>
  </form>
</div>

